<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comprar Elotes en Línea - Elotes Deliciosos</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="comprar.css">
</head>
<body>
    <header>
        <div class="logo">
            <img src="C:\Users\Santi\Downloads\LOGO DINOELOTES.svg">
        </div>
        <nav>
            <div class="search-bar">
                <input type="text" placeholder="Buscar productos...">
                <button type="submit"><i class="fas fa-search"></i></button>
            </div>
            <ul>
                <li><a href="index.html">Inicio</a></li>
                <li><a href="menu.html">Menú</a></li>
                <li><a href="promociones.html">Promociones</a></li>
                <li><a href="comprar.html" class="active">Comprar</a></li>
            </ul>
        </nav>
    </header>

    <main class="buy-page">
        <h1>Realiza tu Pedido en Línea</h1>

        <section class="products-grid">
            <div class="product-card">
                <img src="img/elote-clasico.jpg" alt="Elote Clásico">
                <h3>Elote Clásico</h3>
                <p class="price">$25 MXN</p>
                <button class="button add-to-cart">Agregar al Carrito</button>
            </div>

            <div class="product-card">
                <img src="img/elote-cremoso.jpg" alt="Elote Cremoso">
                <h3>Elote Cremoso</h3>
                <p class="price">$30 MXN</p>
                <button class="button add-to-cart">Agregar al Carrito</button>
            </div>

            <div class="product-card">
                <img src="img/esquite.jpg" alt="Esquite Tradicional">
                <h3>Esquite Tradicional</h3>
                <p class="price">$28 MXN</p>
                <button class="button add-to-cart">Agregar al Carrito</button>
            </div>

            <div class="product-card">
                <img src="img/elote-con-mantequilla.jpg" alt="Elote con Mantequilla">
                <h3>Elote con Mantequilla y Sal</h3>
                <p class="price">$20 MXN</p>
                <button class="button add-to-cart">Agregar al Carrito</button>
            </div>

            <div class="product-card">
                <img src="img/elote-poblano.jpg" alt="Elote Poblano">
                <h3>Elote Poblano</h3>
                <p class="price">$35 MXN</p>
                <button class="button add-to-cart">Agregar al Carrito</button>
            </div>

            <div class="product-card">
                <img src="img/esquite-con-tuetano.jpg" alt="Esquite con Tuétano">
                <h3>Esquite con Tuétano</h3>
                <p class="price">$45 MXN</p>
                <button class="button add-to-cart">Agregar al Carrito</button>
            </div>
            </section>

        <aside class="cart">
            <h2>Carrito de Compras</h2>
            <ul class="cart-items">
                <li class="empty-cart">Tu carrito está vacío.</li>
            </ul>
            <div class="cart-total">
                <strong>Total:</strong> <span class="total-price">$0.00</span>
            </div>
            <button class="button checkout-button" disabled>Finalizar Compra</button>
        </aside>
    </main>

    <footer>
        <p>&copy; 2025 Elotes Deliciosos. Todos los derechos reservados.</p>
    </footer>

    <script>
        // Simulación básica de agregar al carrito (sin backend real)
        const addToCartButtons = document.querySelectorAll('.add-to-cart');
        const cartItemsList = document.querySelector('.cart-items');
        const totalPriceSpan = document.querySelector('.total-price');
        const checkoutButton = document.querySelector('.checkout-button');

        let cart = [];

        addToCartButtons.forEach(button => {
            button.addEventListener('click', function() {
                const productCard = this.closest('.product-card');
                const productName = productCard.querySelector('h3').textContent;
                const productPrice = parseFloat(productCard.querySelector('.price').textContent.replace('$','').replace(' MXN',''));

                const existingItem = cart.find(item => item.name === productName);
                if (existingItem) {
                    existingItem.quantity++;
                } else {
                    cart.push({ name: productName, price: productPrice, quantity: 1 });
                }

                updateCartDisplay();
            });
        });

        function updateCartDisplay() {
            cartItemsList.innerHTML = '';
            let total = 0;

            if (cart.length === 0) {
                const emptyMessage = document.createElement('li');
                emptyMessage.classList.add('empty-cart');
                emptyMessage.textContent = 'Tu carrito está vacío.';
                cartItemsList.appendChild(emptyMessage);
                checkoutButton.disabled = true;
            } else {
                cart.forEach(item => {
                    const listItem = document.createElement('li');
                    listItem.textContent = `${item.name} x ${item.quantity} - $${(item.price * item.quantity).toFixed(2)} MXN`;
                    cartItemsList.appendChild(listItem);
                    total += item.price * item.quantity;
                });
                checkoutButton.disabled = false;
            }

            totalPriceSpan.textContent = `$${total.toFixed(2)} MXN`;
        }

        // Inicializar el carrito
        updateCartDisplay();
    </script>
</body>
</html>